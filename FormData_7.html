<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <body>
        <form onsubmit="ShowData(event)">
            <!--form always submits data to the server, if we don't give the address, it will submit to itself, and it will clear the form -->
            <!--manam eppudaina form data ni submit chesthe it will automatically reload the page, that is default nature of form we need to use ev.prevent default method to obstain from this feature-->
            <input type="text" name="firstName">
            <br>
            <input type="text" name="lastName">
            <br>
            <input type="text" name="Age">
            <br>
            <input type="radio" name="gender" value="Female">Female &nbsp;&nbsp;&nbsp;
            <input type="radio" name="gender" value="Male">Male &nbsp;&nbsp;&nbsp;
            <input type="radio" name="gender" value="Others">Others &nbsp;&nbsp;&nbsp;
            <br>
            <input type="checkbox" name="tech" value="js">Javascript &nbsp;&nbsp;&nbsp;
            <input type="checkbox" name="tech" value="njs">Nodejs &nbsp;&nbsp;&nbsp;
            <input type="checkbox" name="tech" value="ajs">Angularjs &nbsp;&nbsp;&nbsp;
            <input type="checkbox" name="tech" value="rjs">Reactjs &nbsp;&nbsp;&nbsp;
            <button>Show Data</button>
        </form>
        <br>
        <br>
        <table border="2">
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Age</th>
                    <th>Gender</th>
                    <th>Technologies</th>
                </tr>
            </thead>
            <tbody id="d1">

            </tbody>
        </table>
        <script>
            var students=[]
            function ShowData(ev){
                ev.preventDefault();// ila raasthe first event submit avvadu, below console lo data kanpisthundi
                var studentsData={}
                var fd=new FormData(ev.target)
                    for(var k of fd.keys()){//we can write logic to remove duplicates inside keys
                        studentsData[k]=''
                    }
                    console.log(studentsData)
                    for(var k in studentsData){
                        if(fd.getAll(k).length===1){
                            studentsData[k]=fd.get(k)
                        }
                        else{
                            studentsData[k]=fd.getAll(k)
                        }
                    }
                    console.log(studentsData)//object
                    students.push(studentsData)
                    console.log(students)//array of objects
                    genTable();
                    ev.target.reset();//to remove the data after submitting by clicking on show data button
                }
                function genTable(){
                    document.getElementById("d1").innerHTML=''//document update avvagane table data motham malli raakundaa, just update chesina data matrame table lo enter avvadaniki ee line raasi empty value pass ayyela chustam prathi function call lo first gaa
                        students.forEach(function(student){//students lo unna prathi okkariki oka row create cheyyaali
                            var ntr=document.createElement("tr")
                            var fntd=document.createElement("td")
                            fntd.innerHTML=student['firstName']
                            var lntd=document.createElement("td")
                            lntd.innerHTML=student['lastName']
                            var agetd=document.createElement("td")
                            agetd.innerHTML=student['Age']
                            var gentd=document.createElement("td")
                            gentd.innerHTML=student['gender']
                            var techstd=document.createElement("td")
                            techstd.innerHTML=student['tech']
                            ntr.appendChild(fntd)
                            ntr.appendChild(lntd)
                            ntr.appendChild(agetd)
                            ntr.appendChild(gentd)
                            ntr.appendChild(techstd)
                            document.getElementById("d1").appendChild(ntr)
                        })
                    }
        </script>
    </body>
</html>